{% extends 'users/base.html' %}
{% load static compress %}
{% block title %}User Profile{% endblock %}
{% block header %}User Profile{% endblock %}
{% block content %}
<h1>User Profile</h1>

<div class="profile-info">
    <h2>Profile Information</h2>
    <table class="table table-bordered">
        <tr>
            <th>Username</th>
            <td>{{ user.username }}</td>
        </tr>
        <tr>
            <th>Email</th>
            <td>{{ user.email }}</td>
        </tr>
        <tr>
            <th>First Name</th>
            <td>{{ user.first_name }}</td>
        </tr>
        <tr>
            <th>Last Name</th>
            <td>{{ user.last_name }}</td>
        </tr>
        <tr>
            <th>Role</th>
            <td>{{ user.get_role_display }}</td> 
        </tr>
        <tr>
            <th>Address</th>
            <td>{{ user.address }}</td>
        </tr>
        <tr>
            <th>City</th>
            <td>{{ user.city }}</td>
        </tr>
        <tr>
            <th>Profile Picture</th>
            <td>
                {% if user.profile_picture %}
                    <img src="{{ user.profile_picture.url }}" alt="Profile Picture" width="100" id="profilePicture">
                {% else %}
                    No profile picture uploaded.
                {% endif %}
                <input type="file" id="profilePictureInput" style="display: none;">
                <button id="uploadButton" class="btn btn-secondary">Upload New Picture</button>
            </td>
        </tr>
    </table>
</div>

<div class="profile-actions">
    <a href="{% url 'users:edit_profile' %}" class="btn btn-primary">Edit Profile</a>
    <a href="{% url 'users:change_password' %}" class="btn btn-warning">Change Password</a>
</div>

<a href="{% url 'users:dashboard' %}" class="btn btn-secondary">Back to Dashboard</a>
{% endblock %}
{% block footer %}
<link rel="stylesheet" href="{% static 'users/styles.css' %}">
{% compress js %}
<script src="{% static 'js/profile.js' %}"></script>
{% endcompress %}
{% endblock %}